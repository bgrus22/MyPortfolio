#loading data
library(here)
library(haven)
#data wrangling
library(dplyr)
library(tidyr)
library(knitr)
#data presentation
library(ggplot2)
library(jtools)
#regression tools
library(ivreg)
library(multiwayvcov)
library(fixest)
library(car)
#loading data
library(here)
library(haven)
#data wrangling
library(dplyr)
library(tidyr)
library(knitr)
#data presentation
library(ggplot2)
library(jtools)
#regression tools
library(ivreg)
library(multiwayvcov)
library(fixest)
library(car)
H1 = read.csv(file = 'Data/2020-02-11/H1.csv')
H2 = read.csv(file = 'Data/2020-02-11/H2.csv')
hotels = read.csv(file = 'Data/2020-02-11/hotels.csv')
fullH = merge(H1,H2,all = TRUE)
fullHotel <- merge(fullH,hotels, all = TRUE)
View(hotels)
View(hotels)
table(hotels$hotel)
hotel$Resort <- hotels$hotel[hotels$hotel == 'Resort Hotel']
hotels$Resort <- hotels$hotel[hotels$hotel == 'Resort Hotel']
hotels$Resort <- hotels$hotel[hotels$hotel == 'Resort Hotel',]
hotels$Resort <- hotels$hotel[,hotels$hotel == 'Resort Hotel']
hotels$Resort <- hotels$hotel[hotels$hotel == 'Resort Hotel':]
hotels$Resort <- hotels$hotel[hotels$hotel == 'Resort Hotel']
hotels$Resort <- (hotels$hotel == 'Resort Hotel')
View(hotels)
hotels$Resort <- (hotels$hotel == 'Resort Hotel')
table(hotels$Resort)
# create desired binary
hotels$Resort <- (hotels$hotel == 'Resort Hotel')
table(hotels$hotel)
# create desired binaries
hotels$Resort <- (hotels$hotel == 'Resort Hotel')
H1$Resort <- TRUE
H2$Resort <- FALSE
# concat data
fullH = merge(H1,H2,all = TRUE)
View(fullH)
hotels$reservation_status
table(hotels$reservation_status)
table(fullH$reservation_status)
table(fullH$reservation_status)
table(fullH$ReservationStatus)
table(hotels$reservation_status)
table(hotels$children)
table(fullH$children)
table(fullH$Children)
table(fullH$ReservationStatus)
table(fullH$ReservationStatus)
table(fullH$ReservationStatus)
# merge data
H1$Resort <- TRUE
H2$Resort <- FALSE
fullH = merge(H1,H2,all = TRUE)
#create outcome variable for regressions
fullH$Showed <- (fullH$ReservationStatus =="Check-Out")
ols.1 <- lm(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled,data = fullH)
table(ols.1)
ols.1 <- lm(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled,data = fullH)
summary(ols.1)
# merge data
H1$Resort <- TRUE
H2$Resort <- FALSE
fullH = merge(H1,H2,all = TRUE)
#concat the month and year variables
fullH$ArrivalKey <- paste(fullH$ArrivalDateMonth, fullH$ArrivalDateYear)
#create outcome variable for regressions
fullH$Showed <- (fullH$ReservationStatus =="Check-Out")
ols.1 <- lm(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled,data = fullH)
summary(ols.1)
feols.1 <- feols(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled, vcov = ArrivalDateMonth ,data = fullH)
feols.1 <- feols(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled, vcov = ArrivalDateMonth, data = fullH)
feols.1 <- feols(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled, vcov = ~ArrivalDateMonth, data = fullH)
summary(feols.1)
feols.1 <- feols(Showed ~ Resort + StaysInWeekNights + StaysInWeekendNights + Adults + Children + Babies + IsRepeatedGuest + PreviousBookingsNotCanceled, vcov = ~ArrivalKey, data = fullH)
summary(feols.1)
